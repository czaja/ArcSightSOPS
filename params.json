{"name":"ArcSight SOP CheckList","tagline":"Rudiment ArcSight SOP Checklist Along With Fundamental Troubleshooting & Solutions  ","body":"### Connector Sensor Tier Health Checks\r\n* [Current ArcSight Smart Connector Supported Devices ](http://www.hpenterprisesecurity.com/collateral/HP_ArcSight_Supported_Products.pdf)\r\n* UP/Down Check \r\n* Connector Event Rate Check \r\n* Cache Check \r\n* Log Check \r\n* Configuration Check \r\n\r\n### Connector Appliance Management Tier Health Checks \r\n* CPU & Memory Check \r\n* Network Settings Check \r\n* Configuration Backup Check \r\n\r\n### Enterprise Security Manager(ESM) Application Tier Health Checks \r\n* Event Throughput Dashboard Check \r\n* Current Event Sources Dashboard Check \r\n* CPU/Memory Utilization Check \r\n* Active/Session List Utilization Check \r\n* Rules Engine Check \r\n* Event Persistence Performance Check(Event Insertion Rate)\r\n* Error Check \r\n* Scheduled Task Check \r\n* server.properties Check \r\n* Agent & Console Threads Check \r\n\r\n### Oracle Data Tier Health Checks \r\n* DBCheck & Oracle RDA\r\n* Database Performance Statistics Dashboard \r\n* Partition Check\r\n* Trend Job Check \r\n* Hardware and Operating System Check \r\n* CPU & Memory Utilization Check \r\n* Oracle Version and Patch Level Check \r\n* Oracle Alert Log Check \r\n* Oracle Memory Parameters Check \r\n* ESM Database Storage Check \r\n\r\n### HP/ArcSight Support URL Reference\r\n* [Software/Patches](https://support.openview.hp.com/selfsolve/patches)\r\n* [Knowledge Base](http://support.openview.hp.com/selfsolve/documents)\r\n* [Support Center](http://support.openview.hp.com/casemanager/incident-index)\r\n\r\n### Some Troubleshooting Fundamentals and Solutions\r\n\r\n\r\n#### Tailing ESM Exceptions\r\n\r\n```\r\nssh arcsight@esm_node \r\ncd $ARCSIGHT_MANAGER_HOME/logs/default\r\ntail -f server.std.log ../../bin/./arcsight exceptions\r\n```\r\n\r\n\r\n#### Detecting Excessive IOWAIT \r\n\r\n* SSH to the Oracle node within the ArcSight Architecture \r\n\r\n```\r\niostat 5 -c\r\n```\r\n\r\n* IOWAIT of 5% or less is fine \r\n* IOWAIT greater than 5% is bad\r\n\r\n\r\n#### How to determine the IP Address of the Oracle node within Veritas Cluster\r\n\r\n* The Oracle node IP address will be the IP Address that the ESM IP Address is connected to on TCP Port 1521, unless Oracle listener has been configured to listen on a non-standard TCP Port. \r\n\r\n```\r\nssh arcsight@esm_node \r\nnetstat -an | grep 1521 | grep ESTABLISHED\r\n10.0.0.3:20783   10.0.0.4:1521   ESTABLISHED\r\n```\r\n\r\n\r\n#### How to reset the ArcSight ESM admin password if forgotten or disabled/locked out\r\n\r\n* SSH to the ESM node within your ArcSight architecture\r\n* NOTE: If your ESM is running under the non-privledged user account 'arcsight' ensure you are the arcsight user while performing the following procedure. \r\n\r\n```\r\nssh arcsight@esm_node \r\ncd $ARCSIGHT_MANAGER_HOME/bin/scripts \r\n../arcsight resetpwd\r\nadmin\r\nENTER NEW PASSWD\r\nREPEAT\r\nYes\r\n```\r\n\r\n* Now you should be able to login to the ArcSight Console with the 'admin' user account utilizing the new password\r\n\r\n\r\n\r\n#### Connectivity between the ESM and Oracle data tier lost \r\n\r\n* The ESM will generate an **ERROR** event within $ARCSIGHT_HOME/logs/default/server.std.log\r\n\r\n```\r\nERROR:java.sql.SQLException: Got minus one from a read call\r\n```\r\n\r\n* Perform the following troubleshooting actions from the Oracle node of the ESM Architecture \r\nNOTE: utilize the **oracle** user account!!\r\n\r\n```\r\nsqlplus '/ as sysdba' \r\nSQL> select instance_name, status, from gv$instance;\r\n```\r\n\r\n* Next Check the status of the Oracle listener to ensure that the listener is in state **LISTENING**\r\n\r\n```\r\ncd $ARCSIGHT_DB_HOME/db/bin\r\n./arcdbutil lsnrctl status\r\n```\r\n\r\n* From the Oracle node of the ESM Architecture check **sqlnet.ora** ensure TCP.INVITED_NODES parameter allows the ESM hostname\r\n\r\n```\r\ncat $ORACLE_HOME/OraHome11g/network/admin/sqlnet.ora\r\n```\r\n\r\n* Next from the ESM system \r\n\r\n```\r\ntelnet oracle.hostname.com 1521\r\n```\r\n\r\n#### Determine the Startup Time of the Oracle ArcSight database instance \r\nNOTE: As the **oracle** user\r\n\r\n```\r\nselect to_char(startup_time, 'HH24:MI DD-MON-YY') \"Startup Time\"\r\nfrom v$instance\r\n/\r\n```\r\n\r\n#### Determine from SQL current Database size and available free space\r\nNOTE: As the **oracle** user copy and past on the Oracle node the following script and name the file \r\n**check_current_free.sql**\r\n[check_current_free.sql](https://gist.github.com/alienone/8031362/raw/c79fe2cb39122fc58e437690eda68a1f002b6d54/check_current_free.sql)\r\n\r\n```\r\nvim check_current_free.sql\r\nI #(INSERT)\r\n:wq! #(WRITE AND QUIT FILE)\r\n\r\nsqlplus '/ as sysdba'\r\n!ls \r\n@check_current_free.sql\r\n```\r\n\r\n#### Determine available space for each table space within a given Oracle DB instance \r\nNOTE: As the **oracle** user - download and save the following script: [free_space_table.sql](https://gist.github.com/alienone/8031427/raw/73943d970cace46d357966055d77b2cc5c9fd95a/free_space_table.sql)\r\n\r\n```\r\nvim check_current_free.sql\r\nI #(INSERT)\r\n:wq! #(WRITE AND QUIT FILE)\r\n\r\nsqlplus '/ as sysdba'\r\n!ls \r\n@free_space_table.sql\r\n``` \r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}